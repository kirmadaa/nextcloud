/*! For license information please see mail.account-settings.22fee051d402e0190641.js.LICENSE.txt */
"use strict";(self.webpackChunknextcloud_mail=self.webpackChunknextcloud_mail||[]).push([[730],{53571:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".button.icon-rename[data-v-2a14e20d]{background-color:rgba(0,0,0,0);border:none;opacity:.3}.button.icon-rename[data-v-2a14e20d]:hover,.button.icon-rename[data-v-2a14e20d]:focus{opacity:1}","",{version:3,sources:["webpack://./src/components/AccountDefaultsSettings.vue"],names:[],mappings:"AACA,qCACC,8BAAA,CACA,WAAA,CACA,UAAA,CAEA,sFAEC,SAAA",sourcesContent:["\n.button.icon-rename {\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]);const r=o},68341:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".alias-item[data-v-93beb10a]{display:flex;justify-content:space-between}.button.icon-rename[data-v-93beb10a]{background-image:var(--icon-rename-000);background-color:var(--color-main-background);border:none;opacity:.7}.button.icon-rename[data-v-93beb10a]:hover,.button.icon-rename[data-v-93beb10a]:focus{opacity:1}.settings-hint[data-v-93beb10a]{margin-top:-12px;margin-bottom:6px;color:var(--color-text-maxcontrast)}h2[data-v-93beb10a]{font-weight:bold;font-size:20px;margin-bottom:12px;margin-left:-30px;line-height:30px;color:var(--color-text-light)}.app-settings-section[data-v-93beb10a]{margin-bottom:45px}","",{version:3,sources:["webpack://./src/components/AccountSettings.vue"],names:[],mappings:"AACA,6BACC,YAAA,CACA,6BAAA,CAGD,qCACC,uCAAA,CACA,6CAAA,CACA,WAAA,CACA,UAAA,CACA,sFAEC,SAAA,CAGF,gCACC,gBAAA,CACA,iBAAA,CACA,mCAAA,CAED,oBACC,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,6BAAA,CAED,uCACA,kBAAA",sourcesContent:["\n.alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.button.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n.settings-hint {\n\tmargin-top: -12px;\n\tmargin-bottom: 6px;\n\tcolor: var(--color-text-maxcontrast);\n}\nh2 {\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tmargin-bottom: 12px;\n\tmargin-left: -30px;\n\tline-height: 30px;\n\tcolor: var(--color-text-light);\n}\n.app-settings-section {\nmargin-bottom: 45px;\n}\n"],sourceRoot:""}]);const r=o},36577:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".alias-form[data-v-3ffea954]{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;width:100%}.alias-form__form[data-v-3ffea954]{display:flex;flex:1 auto;gap:10px}.alias-form__form--expand[data-v-3ffea954]{flex-basis:calc(100% - 44px - 10px)}.alias-form__form__input[data-v-3ffea954]{flex:1 auto}.alias-form__actions[data-v-3ffea954]{display:flex}","",{version:3,sources:["webpack://./src/components/AliasForm.vue"],names:[],mappings:"AAGA,6BACC,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,QANU,CAOV,cAAA,CACA,UAAA,CAEA,mCACC,YAAA,CACA,WAAA,CACA,QAAA,CAEA,2CAEC,mCAAA,CAGD,0CACC,WAAA,CAIF,sCACC,YAAA",sourcesContent:["\n$form-gap: 10px;\n\n.alias-form {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tgap: $form-gap;\n\tflex-wrap: wrap;\n\twidth: 100%;\n\n\t&__form {\n\t\tdisplay: flex;\n\t\tflex: 1 auto;\n\t\tgap: 10px; // Gap between inputs\n\n\t\t&--expand {\n\t\t\t// Prevent the submit button from being wrapped to the next line on normal sized screens\n\t\t\tflex-basis: calc(100% - 44px - $form-gap);\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n\n\t&__actions {\n\t\tdisplay: flex;\n\t}\n}\n"],sourceRoot:""}]);const r=o},24654:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".primary[data-v-5ec22710]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-5ec22710]:after{left:14px}.button-text[data-v-5ec22710]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-5ec22710]:hover,.button-text[data-v-5ec22710]:focus{color:var(--color-main-text)}input[data-v-5ec22710]{width:195px}.button-vue[data-v-5ec22710] {display:inline-block !important;margin-top:4px !important}","",{version:3,sources:["webpack://./src/components/AliasSettings.vue"],names:[],mappings:"AACA,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEC,4BAAA,CAIF,uBACC,WAAA,CAED,8BACC,+BAAA,CACA,yBAAA",sourcesContent:["\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\tleft: 14px;\n\t}\n}\n\n.button-text {\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-weight: normal;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\ninput {\n\twidth: 195px;\n}\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n"],sourceRoot:""}]);const r=o},56053:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".certificate-settings__alias[data-v-49441a33],.certificate-settings__certificate[data-v-49441a33]{width:100%}.certificate-settings__alias+.certificate-settings__certificate[data-v-49441a33]{margin-top:5px}.certificate-settings__submit[data-v-49441a33]{margin-top:1rem}","",{version:3,sources:["webpack://./src/components/CertificateSettings.vue"],names:[],mappings:"AAEC,kGAEC,UAAA,CAGD,iFACC,cAAA,CAGD,+CACC,eAAA",sourcesContent:["\n.certificate-settings {\n\t&__alias,\n\t&__certificate {\n\t\twidth: 100%;\n\t}\n\n\t&__alias + &__certificate {\n\t\tmargin-top: 5px\n\t}\n\n\t&__submit {\n\t\tmargin-top: 1rem;\n\t}\n}\n"],sourceRoot:""}]);const r=o},54071:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,"label[data-v-39907874]{padding-right:12px}","",{version:3,sources:["webpack://./src/components/EditorSettings.vue"],names:[],mappings:"AAEA,uBACC,kBAAA",sourcesContent:["\n\nlabel {\n\tpadding-right: 12px;\n}\n"],sourceRoot:""}]);const r=o},14692:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".form[data-v-6cbdfb00]{display:flex;flex-direction:column;gap:15px}.form__fieldset[data-v-6cbdfb00]{display:flex;flex-direction:column}.form__fieldset__label[data-v-6cbdfb00]{display:flex;align-items:center;gap:5px}.form__fieldset__input[data-v-6cbdfb00]{flex:1 auto}.form__fieldset__description[data-v-6cbdfb00]{color:var(--color-text-maxcontrast)}.form__multi-row[data-v-6cbdfb00]{display:flex;align-items:end;gap:15px}.form #ooo-enable-last-day[data-v-6cbdfb00]{cursor:pointer;min-height:unset}.form #ooo-subject[data-v-6cbdfb00]{width:100%}.form #ooo-message[data-v-6cbdfb00]{width:100%;min-height:100px;border:1px solid var(--color-border)}.form #ooo-message[data-v-6cbdfb00]:active,.form #ooo-message[data-v-6cbdfb00]:focus,.form #ooo-message[data-v-6cbdfb00]:hover{border-color:var(--color-primary-element) !important}","",{version:3,sources:["webpack://./src/components/OutOfOfficeForm.vue"],names:[],mappings:"AACA,uBACC,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,iCACC,YAAA,CACA,qBAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAGD,wCACC,WAAA,CAGD,8CACC,mCAAA,CAIF,kCACC,YAAA,CACA,eAAA,CACA,QAAA,CAGD,4CACC,cAAA,CACA,gBAAA,CAGD,oCACC,UAAA,CAGD,oCACC,UAAA,CACA,gBAAA,CACA,oCAAA,CAEA,+HAGC,oDAAA",sourcesContent:["\n.form {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\n\t&__fieldset {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__label {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 5px;\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\n\t\t&__description {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\n\t&__multi-row {\n\t\tdisplay: flex;\n\t\talign-items: end;\n\t\tgap: 15px;\n\t}\n\n\t#ooo-enable-last-day {\n\t\tcursor: pointer;\n\t\tmin-height: unset;\n\t}\n\n\t#ooo-subject {\n\t\twidth: 100%;\n\t}\n\n\t#ooo-message {\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: 1px solid var(--color-border);\n\n\t\t&:active,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tborder-color: var(--color-primary-element) !important;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const r=o},53367:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,"label[data-v-70c29b01]{padding-right:12px}div[data-v-70c29b01]{display:flex;align-items:center}","",{version:3,sources:["webpack://./src/components/SearchSettings.vue"],names:[],mappings:"AAEA,uBACC,kBAAA,CAGD,qBACC,YAAA,CACA,kBAAA",sourcesContent:["\n\nlabel {\n\tpadding-right: 12px;\n}\n\ndiv{\n\tdisplay: flex;\n\talign-items: center;\n}\n"],sourceRoot:""}]);const r=o},41131:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".section[data-v-9980116a]{display:block;padding:0;margin-bottom:23px}textarea[data-v-9980116a]{width:100%}.primary[data-v-9980116a]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-9980116a]:after{left:14px}","",{version:3,sources:["webpack://./src/components/SieveFilterForm.vue"],names:[],mappings:"AACA,0BACC,aAAA,CACA,SAAA,CACA,kBAAA,CAGD,0BACC,UAAA,CAGD,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA",sourcesContent:["\n.section {\n\tdisplay: block;\n\tpadding: 0;\n\tmargin-bottom: 23px;\n}\n\ntextarea {\n\twidth: 100%;\n}\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\t left: 14px;\n\t }\n}\n"],sourceRoot:""}]);const r=o},87678:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,".ck.ck-editor__editable_inline[data-v-64347e73]{width:100%;max-width:78vw;height:100%;min-height:100px;border-radius:var(--border-radius) !important;border:1px solid var(--color-border) !important;box-shadow:none !important}.primary[data-v-64347e73]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-64347e73]:after{left:14px}.button-text[data-v-64347e73]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-64347e73]:hover,.button-text[data-v-64347e73]:focus{color:var(--color-main-text)}.section[data-v-64347e73]{display:block;padding:0;margin-bottom:23px}.multiselect--single[data-v-64347e73]{width:100%}.ck-balloon-panel[data-v-64347e73]{z-index:10000 !important}.button-vue[data-v-64347e73] {display:inline-block !important;margin-top:4px !important}.warning-large-signature[data-v-64347e73]{color:#ff8c00}","",{version:3,sources:["webpack://./src/components/SignatureSettings.vue"],names:[],mappings:"AACA,gDACE,UAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,6CAAA,CACA,+CAAA,CACA,0BAAA,CAGF,0BACE,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA,CAIJ,8BACE,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEE,4BAAA,CAGJ,0BACE,aAAA,CACA,SAAA,CACA,kBAAA,CAEF,sCACE,UAAA,CAEF,mCACE,wBAAA,CAEF,8BACC,+BAAA,CACA,yBAAA,CAED,0CACC,aAAA",sourcesContent:["\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100%;\n  min-height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n.ck-balloon-panel {\n\t z-index: 10000 !important;\n }\n.button-vue:deep() {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n.warning-large-signature {\n\tcolor: darkorange;\n}\n"],sourceRoot:""}]);const r=o},35110:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,"\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n\tbackground-color: var(--color-main-background)\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n.vue-treeselect__menu {\n\tbackground: var(--color-main-background);\n}\n.vue-treeselect--single .vue-treeselect__option--selected {\n\tbackground: var(--color-primary-element-light);\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__option.vue-treeselect__option--highlight,\n.vue-treeselect__option:hover,\n.vue-treeselect__option:focus {\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\n\tline-height: 44px;\n}\n\n","",{version:3,sources:["webpack://./src/components/MailboxInlinePicker.vue"],names:[],mappings:";AAuEA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;AACA;CACA,aAAA;AACA;AACA;CACA,eAAA;CACA;AACA;AACA;CACA,SAAA;CACA,UAAA;AACA;AACA;CACA,wCAAA;AACA;AACA;CACA,8CAAA;CACA,yCAAA;AACA;AACA;;;CAGA,yCAAA;AACA;AACA;CACA,iBAAA;AACA",sourcesContent:["<template>\n\t<Treeselect ref=\"Treeselect\"\n\t\tv-model=\"selected\"\n\t\t:options=\"mailboxes\"\n\t\t:multiple=\"false\"\n\t\t:clearable=\"false\"\n\t\t:disabled=\"disabled\" />\n</template>\n<script>\nimport Treeselect from '@riophae/vue-treeselect'\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\nimport { mailboxHasRights } from '../util/acl.js'\n\nexport default {\n\tname: 'MailboxInlinePicker',\n\tcomponents: {\n\t\tTreeselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.value,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\treturn this.getMailboxes()\n\t\t},\n\t},\n\twatch: {\n\t\tselected(val) {\n\t\t\tif (val !== this.value) {\n\t\t\t\tthis.$emit('input', val)\n\t\t\t\tthis.selected = val\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxes(mailboxId) {\n\t\t\tlet mailboxes = []\n\t\t\tif (!mailboxId) {\n\t\t\t\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\n\t\t\t}\n\t\t\tmailboxes = mailboxes.filter(mailbox => mailboxHasRights(mailbox, 'i'))\n\t\t\treturn mailboxes.map((mailbox) => {\n\t\t\t\t return {\n\t\t\t\t\tid: mailbox.databaseId,\n\t\t\t\t\tlabel: mailbox.displayName,\n\t\t\t\t\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : '',\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n<style>\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n\tbackground-color: var(--color-main-background)\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n.vue-treeselect__menu {\n\tbackground: var(--color-main-background);\n}\n.vue-treeselect--single .vue-treeselect__option--selected {\n\tbackground: var(--color-primary-element-light);\n\tborder-radius: var(--border-radius-large);\n}\n.vue-treeselect__option.vue-treeselect__option--highlight,\n.vue-treeselect__option:hover,\n.vue-treeselect__option:focus {\n\tborder-radius: var(--border-radius-large);\n\t}\n.vue-treeselect__placeholder, .vue-treeselect__single-value {\n\tline-height: 44px;\n}\n\n</style>\n"],sourceRoot:""}]);const r=o},69311:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(71354),i=a.n(n),s=a(76314),o=a.n(s)()(i());o.push([t.id,"\nform[data-v-75714fab] {\n\twidth: 250px\n}\nlabel[data-v-75714fab] {\n\tdisplay: inline-block;\n}\ninput[data-v-75714fab] {\n\twidth: 100%;\n}\n.flex-row[data-v-75714fab] {\n\tdisplay: flex;\n}\nlabel.button[data-v-75714fab] {\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.error[data-v-75714fab] {\n\tcolor: red;\n}\ninput[type='radio'][data-v-75714fab] {\n\tdisplay: none;\n}\n","",{version:3,sources:["webpack://./src/components/SieveAccountForm.vue"],names:[],mappings:";AAuLA;CACA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;AACA",sourcesContent:['<template>\n\t<form id="sieve-form">\n\t\t<p>\n\t\t\t<input id="sieve-disabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="false">\n\t\t\t<label :class="{primary: !sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-disabled">\n\t\t\t\t{{ t(\'mail\', \'Disabled\') }}\n\t\t\t</label>\n\t\t\t<input id="sieve-enabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="true">\n\t\t\t<label :class="{primary: sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-enabled">\n\t\t\t\t{{ t(\'mail\', \'Enabled\') }}\n\t\t\t</label>\n\t\t</p>\n\t\t<template v-if="sieveConfig.sieveEnabled">\n\t\t\t<label for="sieve-host">{{ t(\'mail\', \'Sieve Host\') }}</label>\n\t\t\t<input id="sieve-host"\n\t\t\t\tv-model="sieveConfig.sieveHost"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Security\') }}</h4>\n\t\t\t<div class="flex-row">\n\t\t\t\t<input id="sieve-sec-none"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="none">\n\t\t\t\t<label class="button"\n\t\t\t\t\tfor="sieve-sec-none"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'none\'}">{{\n\t\t\t\t\t\tt(\'mail\', \'None\')\n\t\t\t\t\t}}</label>\n\t\t\t\t<input id="sieve-sec-ssl"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="ssl">\n\t\t\t\t<label class="button"\n\t\t\t\t\tfor="sieve-sec-ssl"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'ssl\'}">\n\t\t\t\t\t{{ t(\'mail\', \'SSL/TLS\') }}\n\t\t\t\t</label>\n\t\t\t\t<input id="sieve-sec-tls"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="tls">\n\t\t\t\t<label class="button"\n\t\t\t\t\tfor="sieve-sec-tls"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'tls\'}">\n\t\t\t\t\t{{ t(\'mail\', \'STARTTLS\') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label for="sieve-port">{{ t(\'mail\', \'Sieve Port\') }}</label>\n\t\t\t<input id="sieve-port"\n\t\t\t\tv-model="sieveConfig.sievePort"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Credentials\') }}</h4>\n\t\t\t<p>\n\t\t\t\t<input id="sieve-credentials-imap"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="true">\n\t\t\t\t<label :class="{primary: useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-imap">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Credentials\') }}\n\t\t\t\t</label>\n\t\t\t\t<input id="sieve-credentials-custom"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="false">\n\t\t\t\t<label :class="{primary: !useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-custom">\n\t\t\t\t\t{{ t(\'mail\', \'Custom\') }}\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<template v-if="!useImapCredentials">\n\t\t\t\t<label for="sieve-user">{{ t(\'mail\', \'Sieve User\') }}</label>\n\t\t\t\t<input id="sieve-user"\n\t\t\t\t\tv-model="sieveConfig.sieveUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="sieve-password">{{\n\t\t\t\t\tt(\'mail\', \'Sieve Password\')\n\t\t\t\t}}</label>\n\t\t\t\t<input id="sieve-password"\n\t\t\t\t\tv-model="sieveConfig.sievePassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\trequired>\n\t\t\t</template>\n\t\t</template>\n\t\t<slot name="feedback" />\n\t\t<p v-if="errorMessage">\n\t\t\t{{ t(\'mail\', \'Oh Snap!\') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<ButtonVue type="primary"\n\t\t\t:disabled="loading"\n\t\t\t:aria-label="t(\'mail\', \'Save sieve settings\')"\n\t\t\t@click.prevent="onSubmit">\n\t\t\t{{ t(\'mail\', \'Save sieve settings\') }}\n\t\t</ButtonVue>\n\t</form>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from \'@nextcloud/vue\'\nexport default {\n\tname: \'SieveAccountForm\',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsieveConfig: {\n\t\t\t\tsieveEnabled: this.account.sieveEnabled,\n\t\t\t\tsieveHost: this.account.sieveHost || this.account.imapHost,\n\t\t\t\tsievePort: this.account.sievePort || 4190,\n\t\t\t\tsieveUser: this.account.sieveUser || \'\',\n\t\t\t\tsievePassword: \'\',\n\t\t\t\tsieveSslMode: this.account.sieveSslMode || \'tls\',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tuseImapCredentials: !this.account.sieveUser,\n\t\t\terrorMessage: \'\',\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onSubmit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = \'\'\n\n\t\t\t// empty user and password => use imap credentials\n\t\t\tif (this.sieveConfig.sieveUser === \'\' && this.sieveConfig.sievePassword === \'\') {\n\t\t\t\tthis.useImapCredentials = true\n\t\t\t}\n\n\t\t\t// clear user and password if imap credentials are used\n\t\t\tif (this.useImapCredentials) {\n\t\t\t\tthis.sieveConfig.sieveUser = \'\'\n\t\t\t\tthis.sieveConfig.sievePassword = \'\'\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch(\'updateSieveAccount\', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: this.sieveConfig,\n\t\t\t\t})\n\t\t\t\tif (this.sieveConfig.sieveEnabled) {\n\t\t\t\t\tawait this.$store.dispatch(\'fetchActiveSieveScript\', {\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\nform {\n\twidth: 250px\n}\n\nlabel {\n\tdisplay: inline-block;\n}\n\ninput {\n\twidth: 100%;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\ttext-align: center;\n\tflex-grow: 1;\n}\n\nlabel.error {\n\tcolor: red;\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n</style>\n'],sourceRoot:""}]);const r=o},6733:(e,a,n)=>{n.r(a),n.d(a,{default:()=>Pt});var i=n(2961),s=n(85745);const o={name:"EditorSettings",props:{account:{type:Object,required:!0}},data(){return{mode:this.account.editorMode}},watch:{mode(t,e){this.$store.dispatch("patchAccount",{account:this.account,data:{editorMode:t}}).then((()=>{s.A.info("editor mode updated")})).catch((t=>{throw s.A.error("could not update editor mode",{error:t}),this.editorMode=e,t}))}}};var r=n(85072),l=n.n(r),c=n(97825),A=n.n(c),d=n(77659),u=n.n(d),m=n(55056),p=n.n(m),v=n(10540),h=n.n(v),g=n(41113),b=n.n(g),f=n(54071),C={};C.styleTagTransform=b(),C.setAttributes=p(),C.insert=u().bind(null,"head"),C.domAPI=A(),C.insertStyleElement=h(),l()(f.A,C),f.A&&f.A.locals&&f.A.locals;var _=n(14486);const y=(0,_.A)(o,(function(){var t=this,e=t._self._c;return e("div",[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"plaintext",type:"radio",value:"plaintext"},domProps:{checked:t._q(t.mode,"plaintext")},on:{change:function(e){t.mode="plaintext"}}}),t._v(" "),e("label",{class:{primary:"plaintext"===t.mode},attrs:{for:"plaintext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Plain text"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"richtext",type:"radio",value:"richtext"},domProps:{checked:t._q(t.mode,"richtext")},on:{change:function(e){t.mode="richtext"}}}),t._v(" "),e("label",{class:{primary:"richtext"===t.mode},attrs:{for:"richtext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Rich text"))+"\n\t\t")])])])}),[],!1,null,"39907874",null).exports;var x=n(49123),S=n.n(x),w=(n(18149),n(28290));const k={name:"MailboxInlinePicker",components:{Treeselect:S()},props:{account:{type:Object,required:!0},disabled:{type:Boolean,default:!1},value:{type:Number,default:void 0}},data(){return{selected:this.value}},computed:{mailboxes(){return this.getMailboxes()}},watch:{selected(t){t!==this.value&&(this.$emit("input",t),this.selected=t)}},methods:{getMailboxes(t){let e=[];return e=t?this.$store.getters.getSubMailboxes(t):this.$store.getters.getMailboxes(this.account.accountId),e=e.filter((t=>(0,w.w)(t,"i"))),e.map((t=>({id:t.databaseId,label:t.displayName,children:t.mailboxes.length>0?this.getMailboxes(t.databaseId):""})))}}};var I=n(35110),B={};B.styleTagTransform=b(),B.setAttributes=p(),B.insert=u().bind(null,"head"),B.domAPI=A(),B.insertStyleElement=h(),l()(I.A,B),I.A&&I.A.locals&&I.A.locals;const D={name:"AccountDefaultsSettings",components:{MailboxInlinePicker:(0,_.A)(k,(function(){var t=this;return(0,t._self._c)("Treeselect",{ref:"Treeselect",attrs:{options:t.mailboxes,multiple:!1,clearable:!1,disabled:t.disabled},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})}),[],!1,null,null,null).exports},props:{account:{type:Object,required:!0}},data:()=>({saving:!1}),computed:{draftsMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.draftsMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting drafts mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{draftsMailboxId:t}})}catch(t){s.A.error("could not set drafts mailbox",{error:t})}finally{this.saving=!1}}},sentMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.sentMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting sent mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{sentMailboxId:t}})}catch(t){s.A.error("could not set sent mailbox",{error:t})}finally{this.saving=!1}}},trashMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.trashMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting trash mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{trashMailboxId:t}})}catch(t){s.A.error("could not set trash mailbox",{error:t})}finally{this.saving=!1}}},archiveMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.archiveMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting archive mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{archiveMailboxId:t}})}catch(t){s.A.error("could not set archive mailbox",{error:t})}finally{this.saving=!1}}},junkMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.junkMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting junk mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{junkMailboxId:t}})}catch(t){s.A.error("could not set junk mailbox",{error:t})}finally{this.saving=!1}}},snoozeMailbox:{get(){const t=this.$store.getters.getMailbox(this.account.snoozeMailboxId);if(t)return t.databaseId},async set(t){s.A.debug("setting snooze mailbox to "+t),this.saving=!0;try{await this.$store.dispatch("patchAccount",{account:this.account,data:{snoozeMailboxId:t}})}catch(t){s.A.error("could not set snooze mailbox",{error:t})}finally{this.saving=!1}}}}};var E=n(53571),M={};M.styleTagTransform=b(),M.setAttributes=p(),M.insert=u().bind(null,"head"),M.domAPI=A(),M.insertStyleElement=h(),l()(E.A,M),E.A&&E.A.locals&&E.A.locals;const O=(0,_.A)(D,(function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("\n\t\t"+t._s(t.t("mail","Drafts are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.draftsMailbox,callback:function(e){t.draftsMailbox=e},expression:"draftsMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Sent messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.sentMailbox,callback:function(e){t.sentMailbox=e},expression:"sentMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Deleted messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.trashMailbox,callback:function(e){t.trashMailbox=e},expression:"trashMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Archived messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.archiveMailbox,callback:function(e){t.archiveMailbox=e},expression:"archiveMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Snoozed messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.snoozeMailbox,callback:function(e){t.snoozeMailbox=e},expression:"snoozeMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Junk messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.junkMailbox,callback:function(e){t.junkMailbox=e},expression:"junkMailbox"}})],1)}),[],!1,null,"2a14e20d",null).exports;var N=n(61535),U=n(65511),P=n(27380),R=n(76904),F=n(91882);const T={name:"SignatureSettings",components:{TextEditor:N.A,NcSelect:R.EQ,ButtonVue:R.x1,IconLoading:R.ne,IconCheck:F.A},props:{account:{type:Object,required:!0}},data(){return{loading:!1,bus:(0,P.A)(),identity:null,signature:"",signatureAboveQuote:this.account.signatureAboveQuote}},computed:{identities(){const t=this.account.aliases.map((t=>({id:t.id,label:t.name+" ("+t.alias+")",signature:t.signature})));return t.unshift({id:-1,label:this.account.name+" ("+this.account.emailAddress+")",signature:this.account.signature}),t},isLargeSignature(){return new Blob([this.signature]).size>2097152}},watch:{async signatureAboveQuote(t,e){try{await this.$store.dispatch("patchAccount",{account:this.account,data:{signatureAboveQuote:t}}),s.A.debug("signature above quoted updated to "+t)}catch(t){s.A.error("could not update signature above quote",{e:t}),this.signatureAboveQuote=e}}},beforeMount(){this.changeIdentity(this.identities[0])},methods:{changeIdentity(t){s.A.debug("select identity",{identity:t}),this.identity=t,this.signature=t.signature?(0,U.Vw)((0,U.o0)(t.signature)).value:""},async deleteSignature(){this.signature=null,await this.saveSignature()},async saveSignature(){this.loading=!0;let t="updateAccountSignature";const e={account:this.account,signature:this.signature};return this.identity.id>-1&&(t="updateAliasSignature",e.aliasId=this.identity.id),this.$store.dispatch(t,e).then((()=>{s.A.info("signature updated"),this.loading=!1})).catch((t=>{throw s.A.error("could not update account signature",{error:t}),t}))},handleShowToolbar(t){this.$emit("show-toolbar",t)}}};var H=n(87678),L={};L.styleTagTransform=b(),L.setAttributes=p(),L.insert=u().bind(null,"head"),L.domAPI=A(),L.insertStyleElement=h(),l()(H.A,L),H.A&&H.A.locals&&H.A.locals;const V=(0,_.A)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.signatureAboveQuote,expression:"signatureAboveQuote"}],staticClass:"checkbox",attrs:{id:"signature-above-quote-toggle",type:"checkbox"},domProps:{checked:Array.isArray(t.signatureAboveQuote)?t._i(t.signatureAboveQuote,null)>-1:t.signatureAboveQuote},on:{change:function(e){var a=t.signatureAboveQuote,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.signatureAboveQuote=a.concat([null])):s>-1&&(t.signatureAboveQuote=a.slice(0,s).concat(a.slice(s+1)))}else t.signatureAboveQuote=i}}}),t._v(" "),e("label",{attrs:{for:"signature-above-quote-toggle"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Place signature above quoted text"))+"\n\t\t")])]),t._v(" "),t.identities.length>1?e("NcSelect",{attrs:{"allow-empty":!1,options:t.identities,"aria-label-combobox":t.t("mail","Select an alias"),searchable:!1,value:t.identity,label:"label","track-by":"id"},on:{"option:selected":t.changeIdentity}}):t._e(),t._v(" "),e("TextEditor",{attrs:{html:!0,placeholder:t.t("mail","Signature …"),bus:t.bus},on:{"show-toolbar":t.handleShowToolbar},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}}),t._v(" "),t.isLargeSignature?e("p",{staticClass:"warning-large-signature"},[t._v("\n\t\t"+t._s(t.t("mail","Your signature is larger than 2 MB. This may affect the performance of your editor."))+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save signature")},on:{click:t.saveSignature},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20,"fill-color":"white"}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save signature"))+"\n\t")]),t._v(" "),t.signature?e("ButtonVue",{staticClass:"button-text",attrs:{"aria-label":t.t("mail","Delete"),type:"tertiary-no-background"},on:{click:t.deleteSignature}},[t._v("\n\t\t"+t._s(t.t("mail","Delete"))+"\n\t")]):t._e()],1)}),[],!1,null,"64347e73",null).exports;var j=n(93919),z=n(86451);const Q={name:"AliasForm",components:{NcButton:R.x1,IconRename:j.A,IconLoading:R.ne,IconDelete:z.A,IconCheck:F.A},props:{account:{type:Object,required:!0},alias:{type:Object,required:!0},enableUpdate:{type:Boolean,default:!0},enableDelete:{type:Boolean,default:!0},onUpdateAlias:{type:Function,default:async(t,e)=>{let{alias:a,name:n}=e}},onDelete:{type:Function,default:async t=>{}}},data(){return{changeAlias:this.alias.alias,changeName:this.alias.name,showForm:!1,loading:!1}},computed:{formId(){return"alias-form-".concat(this.alias.id)}},methods:{async updateAlias(){this.loading=!0,await this.onUpdateAlias(this.alias.id,{alias:this.changeAlias,name:this.changeName}),this.showForm=!1,this.loading=!1},async deleteAlias(){this.loading=!0,await this.onDelete(this.alias.id),this.loading=!1}}};var q=n(36577),G={};G.styleTagTransform=b(),G.setAttributes=p(),G.insert=u().bind(null,"head"),G.domAPI=A(),G.insertStyleElement=h(),l()(q.A,G),q.A&&q.A.locals&&q.A.locals;const Y={name:"AliasSettings",components:{AliasForm:(0,_.A)(Q,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"alias-form"},[t.showForm?e("form",{staticClass:"alias-form__form",attrs:{id:t.formId},on:{submit:function(e){return e.preventDefault(),t.updateAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeName,expression:"changeName"}],staticClass:"alias-form__form__input",attrs:{type:"text",required:""},domProps:{value:t.changeName},on:{input:function(e){e.target.composing||(t.changeName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeAlias,expression:"changeAlias"}],staticClass:"alias-form__form__input",attrs:{disabled:t.alias.provisioned,type:"email",required:""},domProps:{value:t.changeAlias},on:{input:function(e){e.target.composing||(t.changeAlias=e.target.value)}}})]):e("div",[e("strong",[t._v(t._s(t.alias.name))]),t._v(" <"+t._s(t.alias.alias)+">\n\t")]),t._v(" "),e("div",{staticClass:"alias-form__actions"},[t.showForm?[e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Update alias"),"native-type":"submit",form:t.formId,name:t.t("mail","Update alias")},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)})]:[t._t("default"),t._v(" "),t.enableUpdate?e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Rename alias"),name:t.t("mail","Show update alias form")},on:{click:function(e){e.preventDefault(),t.showForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconRename",{attrs:{size:20}})]},proxy:!0}],null,!1,4207163347)}):t._e(),t._v(" "),t.enableDelete&&!t.alias.provisioned?e("NcButton",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Delete alias"),name:t.t("mail","Delete alias")},on:{click:function(e){return e.preventDefault(),t.deleteAlias.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconDelete",{attrs:{size:20}})]},proxy:!0}],null,!1,1111346051)}):t._e()]],2)])}),[],!1,null,"3ffea954",null).exports,ButtonVue:R.x1,IconLoading:R.ne,IconCheck:F.A,IconRename:j.A},props:{account:{type:Object,required:!0}},data(){return{newAlias:"",newName:this.account.name,showForm:!1,loading:!1}},computed:{aliases(){return this.account.aliases},accountAlias(){return{alias:this.account.emailAddress,name:this.account.name,provisioned:!!this.account.provisioningId,smimeCertificateId:this.account.smimeCertificateId}}},methods:{async createAlias(){this.loading=!0,await this.$store.dispatch("createAlias",{account:this.account,alias:this.newAlias,name:this.newName}),s.A.debug("created alias",{accountId:this.account.id,alias:this.newAlias,name:this.newName}),this.resetCreate(),this.loading=!1},resetCreate(){this.newAlias="",this.newName=this.account.name,this.showForm=!1},async updateAlias(t,e){const a=this.aliases.find((e=>e.id===t));await this.$store.dispatch("updateAlias",{account:this.account,aliasId:a.id,alias:e.alias,name:e.name,smimeCertificateId:a.smimeCertificateId})},async deleteAlias(t){await this.$store.dispatch("deleteAlias",{account:this.account,aliasId:t})}}};var $=n(24654),J={};J.styleTagTransform=b(),J.setAttributes=p(),J.insert=u().bind(null,"head"),J.domAPI=A(),J.insertStyleElement=h(),l()($.A,J),$.A&&$.A.locals&&$.A.locals;const K=(0,_.A)(Y,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"aliases-list"},[e("li",[e("AliasForm",{attrs:{account:t.account,alias:t.accountAlias,"enable-update":!1,"enable-delete":!1}},[t.account.provisioningId?t._e():e("ButtonVue",{attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Go back"),name:t.t("mail","Change name")},on:{click:function(e){return t.$emit("rename-primary-alias")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconRename",{attrs:{size:20}})]},proxy:!0}],null,!1,4207163347)})],1)],1),t._v(" "),t._l(t.aliases,(function(a){return e("li",{key:a.id},[e("AliasForm",{attrs:{account:t.account,alias:a,"on-update-alias":t.updateAlias,"on-delete":t.deleteAlias}})],1)})),t._v(" "),t.showForm?e("li",[e("form",{attrs:{id:"createAliasForm"},on:{submit:function(e){return e.preventDefault(),t.createAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:t.t("mail","Name"),required:""},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAlias,expression:"newAlias"}],attrs:{type:"email",placeholder:t.t("mail","Email address"),required:""},domProps:{value:t.newAlias},on:{input:function(e){e.target.composing||(t.newAlias=e.target.value)}}})])]):t._e()],2),t._v(" "),t.account.provisioningId?t._e():e("div",[t.showForm?t._e():e("ButtonVue",{attrs:{type:"primary","aria-label":t.t("mail","Add alias")},on:{click:function(e){t.showForm=!0}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Add alias"))+"\n\t\t")]),t._v(" "),t.showForm?e("ButtonVue",{attrs:{"native-type":"submit",type:"primary",form:"createAliasForm","aria-label":t.t("mail","Create alias"),disabled:t.loading},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)},[t._v("\n\t\t\t"+t._s(t.t("mail","Create alias"))+"\n\t\t")]):t._e(),t._v(" "),t.showForm?e("ButtonVue",{staticClass:"button-text",attrs:{type:"tertiary-no-background","aria-label":t.t("mail","Cancel")},on:{click:t.resetCreate}},[t._v("\n\t\t\t"+t._s(t.t("mail","Cancel"))+"\n\t\t")]):t._e()],1)])}),[],!1,null,"5ec22710",null).exports,W={name:"SieveAccountForm",components:{ButtonVue:R.x1},props:{account:{type:Object,required:!0}},data(){return{sieveConfig:{sieveEnabled:this.account.sieveEnabled,sieveHost:this.account.sieveHost||this.account.imapHost,sievePort:this.account.sievePort||4190,sieveUser:this.account.sieveUser||"",sievePassword:"",sieveSslMode:this.account.sieveSslMode||"tls"},loading:!1,useImapCredentials:!this.account.sieveUser,errorMessage:""}},methods:{async onSubmit(){this.loading=!0,this.errorMessage="",""===this.sieveConfig.sieveUser&&""===this.sieveConfig.sievePassword&&(this.useImapCredentials=!0),this.useImapCredentials&&(this.sieveConfig.sieveUser="",this.sieveConfig.sievePassword="");try{await this.$store.dispatch("updateSieveAccount",{account:this.account,data:this.sieveConfig}),this.sieveConfig.sieveEnabled&&await this.$store.dispatch("fetchActiveSieveScript",{accountId:this.account.id})}catch(t){this.errorMessage=t.message}this.loading=!1}}};var X=n(69311),Z={};Z.styleTagTransform=b(),Z.setAttributes=p(),Z.insert=u().bind(null,"head"),Z.domAPI=A(),Z.insertStyleElement=h(),l()(X.A,Z),X.A&&X.A.locals&&X.A.locals;const tt=(0,_.A)(W,(function(){var t=this,e=t._self._c;return e("form",{attrs:{id:"sieve-form"}},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-disabled",type:"radio",name:"sieve-active"},domProps:{value:!1,checked:t._q(t.sieveConfig.sieveEnabled,!1)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!1)}}}),t._v(" "),e("label",{class:{primary:!t.sieveConfig.sieveEnabled},attrs:{for:"sieve-disabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Disabled"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-enabled",type:"radio",name:"sieve-active"},domProps:{value:!0,checked:t._q(t.sieveConfig.sieveEnabled,!0)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!0)}}}),t._v(" "),e("label",{class:{primary:t.sieveConfig.sieveEnabled},attrs:{for:"sieve-enabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Enabled"))+"\n\t\t")])]),t._v(" "),t.sieveConfig.sieveEnabled?[e("label",{attrs:{for:"sieve-host"}},[t._v(t._s(t.t("mail","Sieve Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveHost,expression:"sieveConfig.sieveHost"}],attrs:{id:"sieve-host",type:"text",required:""},domProps:{value:t.sieveConfig.sieveHost},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveHost",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Security")))]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-none",type:"radio",name:"sieve-sec",value:"none"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"none")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","none")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-ssl",type:"radio",name:"sieve-sec",value:"ssl"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"ssl")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","ssl")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-ssl"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SSL/TLS"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-tls",type:"radio",name:"sieve-sec",value:"tls"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"tls")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","tls")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-tls"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","STARTTLS"))+"\n\t\t\t")])]),t._v(" "),e("label",{attrs:{for:"sieve-port"}},[t._v(t._s(t.t("mail","Sieve Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePort,expression:"sieveConfig.sievePort"}],attrs:{id:"sieve-port",type:"text",required:""},domProps:{value:t.sieveConfig.sievePort},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePort",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Credentials")))]),t._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-imap",type:"radio"},domProps:{value:!0,checked:t._q(t.useImapCredentials,!0)},on:{change:function(e){t.useImapCredentials=!0}}}),t._v(" "),e("label",{class:{primary:t.useImapCredentials},attrs:{for:"sieve-credentials-imap"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Credentials"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-custom",type:"radio"},domProps:{value:!1,checked:t._q(t.useImapCredentials,!1)},on:{change:function(e){t.useImapCredentials=!1}}}),t._v(" "),e("label",{class:{primary:!t.useImapCredentials},attrs:{for:"sieve-credentials-custom"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Custom"))+"\n\t\t\t")])]),t._v(" "),t.useImapCredentials?t._e():[e("label",{attrs:{for:"sieve-user"}},[t._v(t._s(t.t("mail","Sieve User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveUser,expression:"sieveConfig.sieveUser"}],attrs:{id:"sieve-user",type:"text",required:""},domProps:{value:t.sieveConfig.sieveUser},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveUser",e.target.value)}}}),t._v(" "),e("label",{attrs:{for:"sieve-password"}},[t._v(t._s(t.t("mail","Sieve Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePassword,expression:"sieveConfig.sievePassword"}],attrs:{id:"sieve-password",type:"password",required:""},domProps:{value:t.sieveConfig.sievePassword},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePassword",e.target.value)}}})]]:t._e(),t._v(" "),t._t("feedback"),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save sieve settings")},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve settings"))+"\n\t")])],2)}),[],!1,null,"75714fab",null).exports,et={name:"SieveFilterForm",components:{ButtonVue:R.x1,IconLoading:R.ne,IconCheck:F.A},props:{account:{type:Object,required:!0}},data:()=>({script:"",loading:!0,errorMessage:""}),computed:{scriptData(){return this.$store.getters.getActiveSieveScript(this.account.id)}},watch:{scriptData:{immediate:!0,handler(t){t&&(this.script=t.script,this.loading=!1)}}},methods:{async saveActiveScript(){this.loading=!0,this.errorMessage="";try{await this.$store.dispatch("updateActiveSieveScript",{accountId:this.account.id,scriptData:{...this.scriptData,script:this.script}})}catch(e){422===e.response.status?this.errorMessage=t("mail","The syntax seems to be incorrect:")+" "+e.response.data.message:this.errorMessage=e.message}this.loading=!1}}};var at=n(41131),nt={};nt.styleTagTransform=b(),nt.setAttributes=p(),nt.insert=u().bind(null,"head"),nt.domAPI=A(),nt.insertStyleElement=h(),l()(at.A,nt),at.A&&at.A.locals&&at.A.locals;const it=(0,_.A)(et,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.script,expression:"script"},{name:"shortkey",rawName:"v-shortkey.avoid",modifiers:{avoid:!0}}],attrs:{id:"sieve-text-area",rows:"20",disabled:t.loading},domProps:{value:t.script},on:{input:function(e){e.target.composing||(t.script=e.target.value)}}}),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading,"aria-label":t.t("mail","Save sieve script")},on:{click:t.saveActiveScript},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve script"))+"\n\t")])],1)}),[],!1,null,"9980116a",null).exports;var st=n(32981),ot=n(63814),rt=n(33767),lt=n(65043);const ct="disabled",At="enabled",dt="system",ut={name:"OutOfOfficeForm",components:{DatetimePicker:R.t4,TextEditor:N.A,ButtonVue:R.x1,CheckIcon:F.A,OpenInNewIcon:rt.A},props:{account:{type:Object,required:!0}},data(){const t=parseInt(OC.config.version.split(".")[0]),e=(0,st.C)("mail","enable-system-out-of-office",!1);return{OOO_DISABLED:ct,OOO_ENABLED:At,OOO_FOLLOW_SYSTEM:dt,initialized:!1,enabled:this.account.outOfOfficeFollowsSystem?dt:ct,enableLastDay:!1,firstDay:new Date,lastDay:null,subject:"",message:"",loading:!1,errorMessage:"",hasPersonalAbsenceSettings:t>=28&&e,personalAbsenceSettingsUrl:(0,ot.Jv)("/settings/user/availability"),textEditorDummyBus:(0,P.A)()}},computed:{valid(){return!!this.followingSystem||this.enabled===ct||!!(this.firstDay&&(!this.enableLastDay||this.enableLastDay&&this.lastDay)&&(!this.enableLastDay||this.lastDay>=this.firstDay)&&this.subject&&this.message)},aliases(){return[{name:this.account.name,alias:this.account.emailAddress},...this.account.aliases].map((t=>{let{name:e,alias:a}=t;return"".concat(e," <").concat(a,">")}))},followingSystem(){return this.hasPersonalAbsenceSettings&&this.enabled===dt}},watch:{enableLastDay(t){this.initialized&&(t?(this.lastDay=new Date(this.firstDay),this.lastDay.setDate(this.lastDay.getDate()+6)):this.lastDay=null)},firstDay(t,e){if(!this.initialized)return;if(!this.enableLastDay)return;const a=Math.floor((this.lastDay-e)/864e5);a<0||(this.lastDay=new Date(t),this.lastDay.setDate(t.getDate()+a))}},async mounted(){await this.fetchState(),this.initialized=!0},methods:{async fetchState(){const{state:t}=await async function(t){const e=(0,ot.Jv)("/apps/mail/api/out-of-office/{accountId}",{accountId:t}),{data:a}=await lt.Ay.get(e);return a.data}(this.account.id);this.account.outOfOfficeFollowsSystem?this.enabled=dt:this.enabled=t.enabled?At:ct,t.enabled&&t.start&&(this.firstDay=new Date(t.start)),t.enabled&&t.end&&(this.lastDay=new Date(t.end),this.lastDay.setHours(this.lastDay.getHours()-23,0,0,0),this.enableLastDay=!0),this.subject=t.subject,this.message=(0,U.Vw)((0,U.pj)(t.message)).value},async submit(){this.loading=!0,this.errorMessage="";try{if(this.followingSystem)await async function(t){const e=(0,ot.Jv)("/apps/mail/api/out-of-office/{accountId}/follow-system",{accountId:t}),{data:a}=await lt.Ay.post(e);return a.data}(this.account.id),this.$store.commit("patchAccount",{account:this.account,data:{outOfOfficeFollowsSystem:!0}});else{var t,e;const a=new Date(this.firstDay);a.setHours(0,0,0,0);let n=null;this.lastDay&&(n=new Date(this.lastDay),n.setHours(24,0,0,0)),await async function(t,e){const a=(0,ot.Jv)("/apps/mail/api/out-of-office/{accountId}",{accountId:t}),{data:n}=await lt.Ay.post(a,e);return n.data}(this.account.id,{enabled:this.enabled===At,start:a.toISOString(),end:null!==(t=null===(e=n)||void 0===e?void 0:e.toISOString())&&void 0!==t?t:null,subject:this.subject,message:(0,U.Ul)((0,U.qy)(this.message)).value,allowedRecipients:this.aliases}),this.$store.commit("patchAccount",{account:this.account,data:{outOfOfficeFollowsSystem:!1}})}await this.$store.dispatch("fetchActiveSieveScript",{accountId:this.account.id})}catch(t){this.errorMessage=t.message}finally{this.loading=!1}}}};var mt=n(14692),pt={};pt.styleTagTransform=b(),pt.setAttributes=p(),pt.insert=u().bind(null,"head"),pt.domAPI=A(),pt.insertStyleElement=h(),l()(mt.A,pt),mt.A&&mt.A.locals&&mt.A.locals;const vt=(0,_.A)(ut,(function(){var t=this,e=t._self._c;return e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-disabled",type:"radio",name:"enabled"},domProps:{checked:t.enabled===t.OOO_DISABLED},on:{change:function(e){t.enabled=t.OOO_DISABLED}}}),t._v(" "),e("label",{attrs:{for:"ooo-disabled"}},[t._v(t._s(t.t("mail","Autoresponder off")))])]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-enabled",type:"radio",name:"enabled"},domProps:{checked:t.enabled===t.OOO_ENABLED},on:{change:function(e){t.enabled=t.OOO_ENABLED}}}),t._v(" "),e("label",{attrs:{for:"ooo-enabled"}},[t._v(t._s(t.t("mail","Autoresponder on")))])]),t._v(" "),t.hasPersonalAbsenceSettings?e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-follow-system",type:"radio",name:"enabled"},domProps:{checked:t.enabled===t.OOO_FOLLOW_SYSTEM},on:{change:function(e){t.enabled=t.OOO_FOLLOW_SYSTEM}}}),t._v(" "),e("label",{attrs:{for:"ooo-follow-system"}},[t._v(t._s(t.t("mail","Autoresponder follows system settings")))])]):t._e()]),t._v(" "),t.followingSystem?[e("p",[t._v(t._s(t.t("mail","The autoresponder follows your personal absence period settings.")))]),t._v(" "),e("ButtonVue",{attrs:{href:t.personalAbsenceSettingsUrl,target:"_blank",rel:"noopener noreferrer"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("OpenInNewIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,1266168172)},[t._v("\n\t\t\t"+t._s(t.t("mail","Edit absence settings"))+"\n\t\t")])]:[e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-first-day"}},[t._v(t._s(t.t("mail","First day")))]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-first-day",disabled:!t.enabled},model:{value:t.firstDay,callback:function(e){t.firstDay=e},expression:"firstDay"}})],1),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("div",{staticClass:"form__fieldset__label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableLastDay,expression:"enableLastDay"}],attrs:{id:"ooo-enable-last-day",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(t.enableLastDay)?t._i(t.enableLastDay,null)>-1:t.enableLastDay},on:{change:function(e){var a=t.enableLastDay,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.enableLastDay=a.concat([null])):s>-1&&(t.enableLastDay=a.slice(0,s).concat(a.slice(s+1)))}else t.enableLastDay=i}}}),t._v(" "),e("label",{attrs:{for:"ooo-enable-last-day"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("mail","Last day (optional)"))+"\n\t\t\t\t\t")])]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-last-day",disabled:!t.enabled||!t.enableLastDay},model:{value:t.lastDay,callback:function(e){t.lastDay=e},expression:"lastDay"}})],1)]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-subject"}},[t._v(t._s(t.t("mail","Subject")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],attrs:{id:"ooo-subject",type:"text",disabled:t.followingSystem},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}}),t._v(" "),e("p",{staticClass:"form__fieldset__description"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","${subject} will be replaced with the subject of the message you are responding to"))+"\n\t\t\t")])]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-message"}},[t._v(t._s(t.t("mail","Message")))]),t._v(" "),e("TextEditor",{attrs:{id:"ooo-message",html:!1,disabled:t.followingSystem,bus:t.textEditorDummyBus},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary","native-type":"submit","aria-label":t.t("mail","Save autoresponder"),disabled:t.loading||!t.valid},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CheckIcon",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save autoresponder"))+"\n\t")])],2)}),[],!1,null,"6cbdfb00",null).exports;function ht(t,e){return t.info.notAfter<e.info.notAfter?1:t.info.notAfter>e.info.notAfter?-1:0}var gt=n(95353),bt=n(85168),ft=n(51651);const Ct={name:"CertificateSettings",components:{NcSelect:R.EQ,NcButton:R.x1,NcNoteCard:R.mQ},props:{account:{type:Object,required:!0}},data:()=>({alias:null,certificate:null}),computed:{...(0,gt.L8)({smimeCertificates:"getSmimeCertificates"}),savedCertificate:{get(){return this.certificate?this.certificate:this.smimeCertOptions.find((t=>this.alias.smimeCertificateId===t.id))||this.noCertificateOption},set(t){this.certificate=t}},accountSmimeCertificate(){return{id:-1,alias:this.account.emailAddress,name:this.account.name,provisioned:!!this.account.provisioningId,smimeCertificateId:this.account.smimeCertificateId}},aliases(){const t=this.account.aliases.map((t=>({id:t.id,alias:t.alias,name:t.name,provisioned:!!t.provisioningId,smimeCertificateId:t.smimeCertificateId,isAccountCertificate:!1})));return t.push({...this.accountSmimeCertificate,isAccountCertificate:!0}),t},smimeCertOptions(){const t=(new Date).getTime()/1e3+86400,e=this.smimeCertificates.filter((e=>e.hasKey&&e.emailAddress===this.alias.alias&&e.info.notAfter>=t&&e.info.purposes.sign&&e.info.purposes.encrypt)).map(this.mapCertificateToOption).sort(ht);return e.push(this.noCertificateOption),e},noCertificateOption(){return{label:this.t("mail","No certificate"),isChainVerified:!0}}},methods:{async updateSmimeCertificate(){this.alias.isAccountCertificate?await this.$store.dispatch("updateAccountSmimeCertificate",{account:this.account,smimeCertificateId:this.certificate.id}).then((()=>{(0,bt.Te)(t("mail","Certificate updated"))})).catch((e=>{s.A.error("could not update account Smime ceritificate",{error:e}),(0,bt.Qg)(t("mail","Could not update certificate"))})):await this.$store.dispatch("updateAlias",{account:this.account,aliasId:this.alias.id,alias:this.alias.alias,name:this.alias.name,smimeCertificateId:this.certificate.id}).then((()=>{(0,bt.Te)(t("mail","Certificate updated"))})).catch((e=>{s.A.error("could not update alias Smime ceritificate",{error:e}),(0,bt.Qg)(t("mail","Could not update certificate"))}))},mapCertificateToOption(t){var e;const a=this.t("mail","{commonName} - Valid until {expiryDate}",{commonName:null!==(e=t.info.commonName)&&void 0!==e?e:t.info.emailAddress,expiryDate:ft.A.unix(t.info.notAfter).format("LL")});return{...t,label:a,isChainVerified:t.info.isChainVerified}}}};var _t=n(56053),yt={};yt.styleTagTransform=b(),yt.setAttributes=p(),yt.insert=u().bind(null,"head"),yt.domAPI=A(),yt.insertStyleElement=h(),l()(_t.A,yt),_t.A&&_t.A.locals&&_t.A.locals;const xt=(0,_.A)(Ct,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"certificate-settings"},[e("NcSelect",{staticClass:"certificate-settings__alias",attrs:{options:t.aliases,searchable:!1,placeholder:t.t("mail","Select an alias"),"aria-label-combobox":t.t("mail","Select an alias"),label:"name"},on:{input:function(e){t.savedCertificate=null}},model:{value:t.alias,callback:function(e){t.alias=e},expression:"alias"}}),t._v(" "),null!==t.alias?e("NcSelect",{staticClass:"certificate-settings__certificate",attrs:{options:t.smimeCertOptions,"aria-label-combobox":t.t("mail","Select certificates"),searchable:!1},model:{value:t.savedCertificate,callback:function(e){t.savedCertificate=e},expression:"savedCertificate"}}):t._e(),t._v(" "),e("NcButton",{staticClass:"certificate-settings__submit",attrs:{type:"primary",disabled:null===t.certificate,"aria-label":t.t("mail","Update Certificate")},on:{click:t.updateSmimeCertificate}},[t._v("\n\t\t"+t._s(t.t("mail","Update Certificate"))+"\n\t")]),t._v(" "),t.alias&&!t.savedCertificate.isChainVerified?e("NcNoteCard",{attrs:{type:"warning"}},[e("p",[t._v(t._s(t.t("mail","The selected certificate is not trusted by the server. Recipients might not be able to verify your signature.")))])]):t._e()],1)}),[],!1,null,"49441a33",null).exports,St={name:"SearchSettings",props:{account:{type:Object,required:!0}},data(){return{searchBody:this.account.searchBody}},watch:{searchBody(t,e){this.$store.dispatch("patchAccount",{account:this.account,data:{searchBody:t}}).then((()=>{s.A.info("Body search ".concat(t?"enabled":"disabled"))})).catch((a=>{throw s.A.error("could not ".concat(t?"enable":"disable"," body search"),{error:a}),this.searchBody=e,a}))}}};var wt=n(53367),kt={};kt.styleTagTransform=b(),kt.setAttributes=p(),kt.insert=u().bind(null,"head"),kt.domAPI=A(),kt.insertStyleElement=h(),l()(wt.A,kt),wt.A&&wt.A.locals&&wt.A.locals;const It=(0,_.A)(St,(function(){var t=this,e=t._self._c;return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBody,expression:"searchBody"}],attrs:{id:"searchBody",type:"checkbox"},domProps:{checked:Array.isArray(t.searchBody)?t._i(t.searchBody,null)>-1:t.searchBody},on:{change:function(e){var a=t.searchBody,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=t._i(a,null);n.checked?s<0&&(t.searchBody=a.concat([null])):s>-1&&(t.searchBody=a.slice(0,s).concat(a.slice(s+1)))}else t.searchBody=i}}}),t._v(" "),e("label",{attrs:{for:"searchBody"}},[t._v("\n\t\t"+t._s(t.t("mail","Enable mail body search"))+"\n\t")])])}),[],!1,null,"70c29b01",null).exports;var Bt=n(12572),Dt=n.n(Bt);const Et={name:"TrashRetentionSettings",props:{account:{type:Object,required:!0}},data(){return{trashRetentionDays:this.account.trashRetentionDays,debouncedSave:Dt()(1e3,this.save)}},methods:{async save(){let t=parseInt(this.trashRetentionDays);isNaN(t)&&(t=0),await this.$store.dispatch("patchAccount",{account:this.account,data:{trashRetentionDays:t}})}}},Mt=(0,_.A)(Et,(function(){var t=this,e=t._self._c;return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.trashRetentionDays,expression:"trashRetentionDays"}],attrs:{type:"number",min:"0"},domProps:{value:t.trashRetentionDays},on:{input:[function(e){e.target.composing||(t.trashRetentionDays=e.target.value)},function(e){return t.debouncedSave()}]}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Disable trash retention by leaving the field empty or setting it to 0. Only mails deleted after enabling trash retention will be processed."))+"\n\t")])])}),[],!1,null,null,null).exports,Ot={name:"AccountSettings",components:{SieveAccountForm:tt,SieveFilterForm:it,AccountForm:i.A,AliasSettings:K,EditorSettings:y,SignatureSettings:V,AppSettingsDialog:R.q4,AppSettingsSection:R.Te,AccountDefaultsSettings:O,OutOfOfficeForm:vt,CertificateSettings:xt,TrashRetentionSettings:Mt,SearchSettings:It},props:{account:{required:!0,type:Object},open:{type:Boolean,default:!1}},data(){return{trapElements:[],fetchActiveSieveScript:this.account.sieveEnabled}},computed:{menu(){return this.buildMenu()},displayName(){return this.account.name},email(){return this.account.emailAddress}},watch:{open(t,e){!0===t&&!0===this.fetchActiveSieveScript&&(s.A.debug("Load active sieve script for account ".concat(this.account.accountId)),this.fetchActiveSieveScript=!1,this.$store.dispatch("fetchActiveSieveScript",{accountId:this.account.id}))}},methods:{scrollToAccountSettings(){this.$refs.accountForm.$el.scrollIntoView({behavior:"smooth"})},updateOpen(){this.$emit("update:open")},handleShowToolbar(t){this.trapElements.push(t)}}};var Nt=n(68341),Ut={};Ut.styleTagTransform=b(),Ut.setAttributes=p(),Ut.insert=u().bind(null,"head"),Ut.domAPI=A(),Ut.insertStyleElement=h(),l()(Nt.A,Ut),Nt.A&&Nt.A.locals&&Nt.A.locals;const Pt=(0,_.A)(Ot,(function(){var t=this,e=t._self._c;return e("AppSettingsDialog",{attrs:{id:"app-settings-dialog",open:t.open,"show-navigation":!0,"additional-trap-elements":t.trapElements,name:t.t("mail","Account settings")},on:{"update:open":t.updateOpen}},[e("AppSettingsSection",{attrs:{id:"alias-settings",name:t.t("mail","Aliases")}},[e("AliasSettings",{attrs:{account:t.account},on:{"rename-primary-alias":t.scrollToAccountSettings}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"certificate-settings",name:t.t("mail","Alias to S/MIME certificate mapping")}},[e("CertificateSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"signature",name:t.t("mail","Signature")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","A signature is added to the text of new messages and replies."))+"\n\t\t")]),t._v(" "),e("SignatureSettings",{attrs:{account:t.account},on:{"show-toolbar":t.handleShowToolbar}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"writing-mode",name:t.t("mail","Writing mode")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Preferred writing mode for new messages and replies."))+"\n\t\t")]),t._v(" "),e("EditorSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"default-folders",name:t.t("mail","Default folders")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","The folders to use for drafts, sent messages, deleted messages, archived messages and junk messages."))+"\n\t\t")]),t._v(" "),e("AccountDefaultsSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"trash-retention",name:t.t("mail","Automatic trash deletion")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Days after which messages in Trash will automatically be deleted:"))+"\n\t\t")]),t._v(" "),e("TrashRetentionSettings",{attrs:{account:t.account}})],1),t._v(" "),t.account?e("AppSettingsSection",{attrs:{id:"out-of-office-replies",name:t.t("mail","Autoresponder")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Automated reply to incoming messages. If someone sends you several messages, this automated reply will be sent at most once every 4 days."))+"\n\t\t")]),t._v(" "),t.account.sieveEnabled?e("OutOfOfficeForm",{attrs:{account:t.account}}):e("p",[t._v("\n\t\t\t"+t._s(t.t("mail","Please connect to a sieve server first."))+"\n\t\t")])],1):t._e(),t._v(" "),t.account&&t.account.sieveEnabled?e("AppSettingsSection",{attrs:{id:"sieve-filter",name:t.t("mail","Sieve filter rules")}},[e("div",{attrs:{id:"sieve-filter"}},[e("SieveFilterForm",{key:t.account.accountId,ref:"sieveFilterForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"mail-server",name:t.t("mail","Mail server")}},[e("div",{attrs:{id:"mail-settings"}},[e("AccountForm",{key:t.account.accountId,ref:"accountForm",attrs:{"display-name":t.displayName,email:t.email,account:t.account}})],1)]):t._e(),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"sieve-settings",name:t.t("mail","Sieve filter server")}},[e("div",{attrs:{id:"sieve-settings"}},[e("SieveAccountForm",{key:t.account.accountId,ref:"sieveAccountForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),e("AppSettingsSection",{attrs:{id:"mailbox_search",name:t.t("mail","Mailbox search")}},[e("SearchSettings",{attrs:{account:t.account}})],1)],1)}),[],!1,null,"93beb10a",null).exports},8663:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},34867:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAADi4uLh4eHOxeSRAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},77905:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEUAAADj4+Pf39/h4eHh4eHh4eHk5OTh4eHg4ODi4uLh4eHh4eHg4ODh4eHh4eHg4ODh4eHh4eHp6en////h4eFqcyvUAAAAFHRSTlMAOQfy7bgS5NrBvqOIfXNHMSELAgQ/iFsAAAA2SURBVAjXY4AANjYIzcjMAaVFuBkY+RkEWERYmRjYRXjANAOfiIgIFxNIAa8IpxBEi6AwiAQAK2MBd7xY8csAAAAASUVORK5CYII="},96443:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////8IX9KGAAAAFXRSTlMA8u24NxILB+Tawb6jiH1zRz0xIQIIP3GUAAAAMklEQVQI1y3FtQEAMQDDQD+EGbz/qkEVOpyEOP6PudKjZNSXn4Jm2CKRdBKzSLsFWl8fMG0Bl6Jk1rMAAAAASUVORK5CYII="},63679:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAAD///////////84wDuoAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},35121:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAADi4uLi4uLh4eE5RQaIAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},95773:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAXVBMVEUAAADh4eHh4eHh4eHi4uLb29vh4eHh4eHh4eHh4eHh4eHh4eHh4eHi4uLi4uLj4+Pi4uLk5OTo6Ojh4eHh4eHi4uLg4ODg4ODh4eHg4ODh4eHf39/g4OD////h4eEzIk+wAAAAHnRSTlMAzu6/LA3p5eLZx8ONTjYiHRIKooV+YWBaRzEnCANnm5rnAAAAZElEQVQY033P2wqAIAyA4VWaaWrnc/n+j5mbhBjUf7WPoTD47TJb4i5zTr/sRDRHuyFaoWX7uK/RlbctlPEuyI1f4WY9yQINEkf6rzzo8YIzmUFoCs7J1EjeIaa9bXIEmzl8dgOZEAj/+2IvzAAAAABJRU5ErkJggg=="},40136:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAH3RSTlMAzu4sDenl38fBvo1OMyIdEQrj1cSihX5hYFpHNycIcQOASAAAAF9JREFUGNN9zEcOgDAMRFHTS0LvNfe/JRmHKAIJ/mqeLJn+k9uDtaeUeFnFziGsBucUTirrprfe81RqZ3Bb6hPWeuZwDFOHyf+ig9CCzQ7INBn7bG5kF+QSt13BHNJnF7AaCT4Y+CW7AAAAAElFTkSuQmCC"},4872:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},41387:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAADh4eHg4ODNzc3h4eEYfw2wAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},18467:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAUVBMVEUAAADh4eHh4eHh4eHh4eHi4uLi4uLh4eHh4eHh4eHf39/j4+Ph4eHh4eHh4eHg4ODi4uLh4eHh4eHi4uLh4eHh4eHh4eHh4eHh4eH////h4eF3FMFTAAAAGnRSTlMA+/eJhGhfSHE9JBzz5KaQf3pXT0Xbz0I5AYDw8F0AAAB+SURBVCjPrdHbDoMgEEVRKAii1dZe9fz/hxplTiKIT7qfYCWTEEZdUvOwbckNAD2WHeh3brHW5f5EzGQ+iN+b1Gt6KPvtv16Dn6JX9M9ya3/A1yfu5dlyduL6Hec7mXY6ddXLPP2lpABGZ8PWXfYLTJxZekVhhl7eTX24zZPNKXoRC7zQLjUAAAAASUVORK5CYII="},85752:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAWlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ZMre9AAAAHXRSTlMA/PiJhGNI9XlEHJB/b2ldV08+Oibk49vPp6QhAYgGBuwAAACCSURBVCjPrdHdDoIwDAXgTWAqCigo/+f9X5OwnoUwtis4V92XNWladUl+rzQPeQJAN2EHxoOnsPn7/oYk8fxBv08Rr/deOH/aZ2Nm8ZJ+s573QGfWKnNuZGzWm3+lv2V3pcU1XQ385/yjmBoM3Z+dXvlbYLLD3ujhTaOM3KaIXvNkFkuSEvYy1LqOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=mail.account-settings.22fee051d402e0190641.js.map